\documentclass[a4paper]{book}
\usepackage[times,inconsolata,hyper]{Rd}
\usepackage{makeidx}
\usepackage[utf8]{inputenc} % @SET ENCODING@
% \usepackage{graphicx} % @USE GRAPHICX@
\makeindex{}
\begin{document}
\chapter*{}
\begin{center}
{\textbf{\huge Package `popstudy'}}
\par\bigskip{\large \today}
\end{center}
\begin{description}
\raggedright{}
\inputencoding{utf8}
\item[Type]\AsIs{Package}
\item[Title]\AsIs{popstudy Package}
\item[Version]\AsIs{1.0.0}
\item[Depends]\AsIs{R (>= 3.5.0)}
\item[Maintainer]\AsIs{César Gamboa Sanabria }\email{info@cesargamboasanabria.com}\AsIs{}
\item[Description]\AsIs{Applied techniques to demographic analysis.}
\item[Imports]\AsIs{ggplot2,
magrittr,
lubridate,
dplyr,
tidyr,
stats,
demography,
forecast,
Rdpack}
\item[License]\AsIs{GPL-3 + file LICENSE}
\item[Encoding]\AsIs{UTF-8}
\item[RdMacros]\AsIs{Rdpack}
\item[LazyData]\AsIs{true}
\item[URL]\AsIs{}\url{http://www.cesargamboasanabria.com}\AsIs{}
\item[RoxygenNote]\AsIs{7.1.0}
\item[Suggests]\AsIs{testthat}
\end{description}
\Rdcontents{\R{} topics documented:}
\inputencoding{utf8}
\HeaderA{CR\_births}{CR\_births}{CR.Rul.births}
\keyword{datasets}{CR\_births}
%
\begin{Description}\relax
Births registers in Costa Rica.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
data("CR_births")
\end{verbatim}
\end{Usage}
%
\begin{Format}
A data frame with 8434 observations on the following 2 variables.
\begin{description}

\item[\code{date\_reg}] a Date
\item[\code{births}] a numeric vector

\end{description}

\end{Format}
%
\begin{Source}\relax
\Rhref{https://www.inec.go.cr/}{https://www.inec.go.cr/}
\end{Source}
%
\begin{Examples}
\begin{ExampleCode}
data(CR_births)
summary(CR_births)
\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{CR\_deaths}{CR\_deaths}{CR.Rul.deaths}
\keyword{datasets}{CR\_deaths}
%
\begin{Description}\relax
Deaths registers in Costa Rica.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
data("CR_deaths")
\end{verbatim}
\end{Usage}
%
\begin{Format}
A data frame with 229462 observations on the following 3 variables.
\begin{description}

\item[\code{date\_reg}] a Date
\item[\code{age}] a numeric vector
\item[\code{deaths}] a numeric vector

\end{description}

\end{Format}
%
\begin{Source}\relax
\Rhref{https://www.inec.go.cr/}{https://www.inec.go.cr/}
\end{Source}
%
\begin{Examples}
\begin{ExampleCode}
data(CR_deaths)
summary(CR_deaths)
\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{CR\_mortality\_rates\_2010\_2015}{Costa Rica Mortality Rates}{CR.Rul.mortality.Rul.rates.Rul.2010.Rul.2015}
\keyword{datasets}{CR\_mortality\_rates\_2010\_2015}
%
\begin{Description}\relax
Mortality rates for Costa Rica in 2010-2015
\end{Description}
%
\begin{Usage}
\begin{verbatim}
data("CR_mortality_rates_2010_2015")
\end{verbatim}
\end{Usage}
%
\begin{Format}
A data frame with 7656 observations on the following 4 variables.
\begin{description}

\item[\code{Year}] a numeric vector
\item[\code{Age}] a numeric vector
\item[\code{Female}] a numeric vector with female mortality rates
\item[\code{Male}] a numeric vector with male mortality rates

\end{description}

\end{Format}
%
\begin{Source}\relax
\Rhref{https://www.inec.go.cr/}{https://www.inec.go.cr/}
\end{Source}
%
\begin{Examples}
\begin{ExampleCode}
data(CR_mortality_rates_2010_2015)
summary(CR_mortality_rates_2010_2015)
\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{CR\_populations\_1950\_2015}{Costa Rica population}{CR.Rul.populations.Rul.1950.Rul.2015}
\keyword{datasets}{CR\_populations\_1950\_2015}
%
\begin{Description}\relax
Estimated y projected populations for Costa Rica 1950-2015.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
data("CR_populations_1950_2015")
\end{verbatim}
\end{Usage}
%
\begin{Format}
A data frame with 7656 observations on the following 4 variables.
\begin{description}

\item[\code{Year}] a numeric vector
\item[\code{Age}] a numeric vector
\item[\code{Female}] a numeric vector with female population
\item[\code{Male}] a numeric vector with male population

\end{description}

\end{Format}
%
\begin{Source}\relax
\Rhref{https://www.inec.go.cr/}{https://www.inec.go.cr/}
\end{Source}
%
\begin{Examples}
\begin{ExampleCode}
data(CR_populations_1950_2015)
summary(CR_populations_1950_2015)
\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{growth\_exp}{Exponential growth}{growth.Rul.exp}
%
\begin{Description}\relax
Assuming an exponential behavior estimates the population size at time t, the growth rate, or population at time 0.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
growth_exp(Nt = NULL, N0 = NULL, r = NULL, t0, t, time_interval, date = FALSE)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{Nt}] numeric. The population at time t. If null and date = FALSE, then estimate the population at time t.

\item[\code{N0}] numeric. The population at time 0. If null and date = FALSE, then estimate the population at time 0.

\item[\code{r}] numeric. The growth rate. If null and date = FALSE, then estimate the growth rate for the time period [t0,t].

\item[\code{t0}] numeric. An object of class character with the date for the first population.

\item[\code{t}] numeric. An object of class character with the date for the second population.

\item[\code{time\_interval}] character. A string with the time interval to calculate Delta\_t.

\item[\code{date}] logical. If TRUE, then estimates the moment t when Nt reaches a specific value.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
growth\_exp returns a data frame with N0, Ntr, t0, t, delta, and time\_interval for desire parameters.
\end{Value}
%
\begin{Author}\relax
César Gamboa-Sanabria
\end{Author}
%
\begin{References}\relax
Shryock H, Siegel J (2013).
\emph{The Methods and Materials of Demography},  Studies in Population.
Elsevier Science.
ISBN 9781483289106, \url{https://books.google.co.cr/books?id=HVW0BQAAQBAJ}.
\end{References}
%
\begin{Examples}
\begin{ExampleCode}

# According to the Panama census at 2000-05-14,
# the population was 2,839,177. In 2010-05-16, the census
# calculates 3,405,813 population.
# To get r:

growth_exp(N0=2839177, Nt=3405813, t0="2000-05-14", t="2010-05-16", time_interval = "years")

# To get Nt at 2000-06-30:

growth_exp(N0=2839177, r=0.0182, t0="2000-05-14", t="2000-06-30", time_interval = "years")

# The time when the population will be 5,000,000.

growth_exp(N0=2839177, Nt=5000000, r=0.0182, t0="2000-05-14", date=TRUE)


\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{Lexis}{Lexis diagram}{Lexis}
%
\begin{Description}\relax
Plot a Lexis Diagram from births and deaths data for a given year, month, and day with specific simple ages.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Lexis(deaths_data, births_data, choose_year, choose_month, choose_day, ages)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{deaths\_data}] data.frame. A dataset with three variables: date\_reg, the registered death date, age, the age of decease; and deaths, the deaths number for that date. See \code{\LinkA{CR\_deaths}{CR.Rul.deaths}}.

\item[\code{births\_data}] data data.frame. A dataset with two variables: date\_reg, the registered birth date; and births, the births number for that date. See \code{\LinkA{CR\_births}{CR.Rul.births}}.

\item[\code{choose\_year}] numeric. The year from which the countdown begins until the desired minimum age is reached.

\item[\code{choose\_month}] numeric. The month from which the countdown begins until the desired minimum age is reached.

\item[\code{choose\_day}] numeric. The day from which the countdown begins until the desired minimum age is reached.

\item[\code{ages}] numeric. An ages vector to plot the diagram.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
Lexis function returns a list with two objects: diagram, the Lexis diagram; and deaths, the estimated deaths number.
\end{Value}
%
\begin{Author}\relax
César Gamboa-Sanabria
\end{Author}
%
\begin{References}\relax
Rau R, Bohk-Ewald C, MuszyEska M, Vaupel J (2017).
\emph{Visualizing Mortality Dynamics in the Lexis Diagram},  The Springer Series on Demographic Methods and Population Analysis.
Springer International Publishing.
ISBN 9783319648200, \url{https://books.google.co.cr/books?id=ttpCDwAAQBAJ}.
\end{References}
%
\begin{Examples}
\begin{ExampleCode}

Lexis(CR_deaths, CR_births, choose_year=2011, choose_month=1, choose_day=1, ages=0:9)

\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{Lifetable}{Life Table}{Lifetable}
%
\begin{Description}\relax
Estimates a lifetable from mortality rates and population data.
\end{Description}
%
\begin{Usage}
\begin{verbatim}
Lifetable(
  rates,
  pops,
  sex,
  max_age = NULL,
  first_year,
  threshold,
  jump,
  element = c("mx", "qx", "lx", "dx", "Lx", "Tx", "ex", "rx"),
  ...
)
\end{verbatim}
\end{Usage}
%
\begin{Arguments}
\begin{ldescription}
\item[\code{rates}] character. A character string that specifies mortality data path. The dataset is a .txt file like \code{\LinkA{CR\_mortality\_rates\_2010\_2015}{CR.Rul.mortality.Rul.rates.Rul.2010.Rul.2015}}.

\item[\code{pops}] character. A character string that specifies population data path. The dataset is a .txt file like \code{\LinkA{CR\_populations\_1950\_2015}{CR.Rul.populations.Rul.1950.Rul.2015}}.

\item[\code{sex}] character. "female" or "male".

\item[\code{max\_age}] numeric. Desire omega age. If \code{NULL}, \code{Lifetable} function takes the dataset's maximum age.

\item[\code{first\_year}] numeric. First year to start estimation.

\item[\code{threshold}] numeric. Maximum forecast year.

\item[\code{jump}] character. Same purpose to \code{jumpchoice} argument in \code{\LinkA{forecast}{forecast}} function.

\item[\code{element}] character. Wanted estimation element, one of "mx", "qx", "lx", "dx", "Lx", "Tx", "ex" or "rx".

\item[\code{...}] additional arguments to be passed to \code{\LinkA{read.demogdata}{read.demogdata}}, such as \code{label}.
\end{ldescription}
\end{Arguments}
%
\begin{Value}
Lifetable function returns a list with both data frames, wide and long format, for specified element in argument \code{element} for desire years.
\end{Value}
%
\begin{Author}\relax
César Gamboa-Sanabria
\end{Author}
%
\begin{References}\relax
Wunsch G, Mouchart M, DuchC*ne J (2002).
\emph{The Life Table: Modelling Survival and Death},  European Studies of Population.
Springer Netherlands.
ISBN 9781402006388, \url{https://books.google.co.cr/books?id=ySex55d4nlsC}.
\end{References}
%
\begin{Examples}
\begin{ExampleCode}

## write.table(CR_mortality_rates_2010_2015,
## file = "CR_mortality_rates_2010_2015.txt",
## sep = "\t", row.names = FALSE, quote = FALSE)

## write.table(CR_populations_1950_2015,
## file = "CR_populations_1950_2015.txt",
## sep = "\t", row.names = FALSE, quote = FALSE)

## Lifetable("CR_mortality_rates_2010_2015.txt", "CR_populations_1950_2015.txt",
## sex="female", first_year=2011, threshold=2150, jump="actual", max_age = 100,
## element="ex", label="CR")


\end{ExampleCode}
\end{Examples}
\inputencoding{utf8}
\HeaderA{popstudy}{popstudy Package}{popstudy}
%
\begin{Description}\relax
Applied techniques to demographic analysis.
\end{Description}
%
\begin{Author}\relax
César Gamboa-Sanabria \email{info@cesargamboasanabria.com}
\end{Author}
\printindex{}
\end{document}
